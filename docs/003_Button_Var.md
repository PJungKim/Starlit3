# 3. 변수 사용하기

[이전](https://github.com/PJungKim/Starlit3/blob/main/docs/002_Color_Size.md) [다음](https://github.com/PJungKim/Starlit3/blob/main/docs%2F004_condition.md)

## 1. Starlit에서 변수 정의하기(선언)

### 1.0. 변수 선언의 6가지 유형

|코드|설명|
|---|---|
|`#a():int;`|변수 a를 정수형으로 초기화 없이 선언|
|`#a(1):int;`|변수 a를 정수형으로 선언하고 1로 초기화|
|#a():int;<br>a = 1.0;|변수 a를 정수형으로 선언하고 난 뒤 따로 대입해서 초기화. 이때는 1.0이 소수이고 a가 정수형이므로 자동 형변환이 됨.|
|~~#a(1.0):int;~~|~~변수 a를 int형으로 초기화하되, 값을 소수로 넣고 초기화. 이때는 자동 형변환이 돌지 않아 이상한 값이 저장될 수 있다.~~|
|`#a(1);`|간단하게 정수 1을 넣고 선언. 자동으로 a가 정수형이 됩니다.|
|`a = 1;`|대입문으로 쓴다면 변수가 정의되지 않을 때 자동으로 정의됩니다.|


### 1.1. 변수 정의, 대입, 출력 예제

```
$import(oled);
main(){
    OLED = OLED_Black();
    while(!BUTTON_Read()){}
}
```

이 코드에서 `OLED = OLED_Black();` 아래쪽에 변수를 하나 추가해 보겠습니다. `a = 1;`이라고 적어 보겠습니다.

```
$import(oled);
main(){
    OLED = OLED_Black();
    a = 1;
    while(!BUTTON_Read()){}
}
```

이제 `a = 1;` 아랫쪽에 변수 a의 값을 출력해 보겠습니다. `OLED << a`와 같이 적어 주시면 됩니다.

```
$import(oled);
main(){
    OLED = OLED_Black();
    a = 1;
    OLED << a;
    while(!BUTTON_Read()){}
}
```

자, 이제 실행해 보겠습니다. 아래와 같은 결과가 나오면 됩니다.

  <img src = "..\res\EXAMPLE\Variable\Var1.png" width="20%" height="20%">

### 1.2. 변수 값에 색을 입혀서 출력하고 싶다고요?

이번에는 변수 값에 색을 입혀 보겠습니다. OLED에 색을 입히는 것은 2장에서 설명해 드렸는데요, 이를테면 빨간색으로 변수 a의 값을 출력해 보겠습니다. 빨간색을 나타내는 `"/r"`과 변수 a값을 합치면 됩니다. 하지만, 변수 a는 문자열이 아니기 때문에 문자열 형식으로 만들 수 있습니다. C언어에서 `%d` 생각 나시죠? 그러면 `"/r%d"`라고 쓰고 %d 위치에 a를 넣으시면 됩니다. 다음과 같이 작성해 주시면 됩니다.

`"/r%d" % a`

```
$import(oled);
main(){
    OLED = OLED_Black();
    a = 1;
    OLED << "/r%d" % a;
    while(!BUTTON_Read()){}
}
```

  <img src = "..\res\EXAMPLE\Variable\Var1R.png" width="20%" height="20%">
  
### 1.3. 변수 값에 입력받기

이번에는 사용자가 변수에 값을 입력하는 예제입니다. OLED 쪽으로 화살표를 치면 OLED에 출력된다는 뜻이었습니다. 반대로, OLED에서 변수로 화살표를 그리면 어떻게 될까요? 지금 한번 알아보겠습니다. 아래와 같이 코드를 작성해 보겠습니다. `OLED >> a`가 바로 OLED에 a를 입력받겠다는 뜻입니다.
이번에는 변수 a에 값을 초기화하지 않은 상태로 사용해 보겠습니다. 이때는 `#a():int`와 같이 변수의 자료형을 명시하면 됩니다.

```
$import(oled);
main(){
    OLED = OLED_Black();
    #a():int;
    OLED >> a;
    OLED << "/1/ra는 /y%d/r입니다." % a;
    while(!BUTTON_Read()){}
}
```

  <img src = "..\res\EXAMPLE\Variable\VAR1I.png" width="20%" height="20%">

### 1.4. 예제 - 변수 2개를 받아 합 출력하기

이번에는 변수 2개(a, b)를 받아 두 수의 합을 출력하는 코드를 만들어 보겠습니다.
```
$import(oled);
main(){
    OLED = OLED_Black();
    #a():int;
    #b():int;
    OLED << "/0a = " >> a;
    OLED << "/1b = " >> b;
    OLED << "/2/r%d/w + /r%d/w = /r%d/w입니다." % a % b % (a + b);
    while(!BUTTON_Read()){}
}
```

  <img src = "..\res\EXAMPLE\Variable\Var2P.png" width="20%" height="20%">

- Q : a+b는 왜 괄호를 치나요?
  - A : `%d` 안에 값을 넣는 연산자인 `%`가 덧셈 연산자보다 우선순위에 있기 때문입니다. `%d` 안의 값이 복잡한 연산인 경우 괄호를 넣는 것이 가장 깔끔합니다.

## 2. 자료형

Starlit은 기본적으로 C에서 가장 자주 사용하는 자료형만 기본적으로 제공합니다. 다만, C와의 호환성을 위해 나중에는 자료형을 더욱 다양하게 쓸 수 있는 라이브러리를 제공하고자 합니다.

|자료형|설명|
|----|----|
|`int`|정수를 의미합니다. 4바이트를 사용하며, 부호 있는 정수를 사용합니다.|
|`float`|소수를 의미합니다. 4바이트를 사용하는 부동소수점형입니다.|
|~~double~~|정밀한 소수를 의미합니다. Starlit은 Cortex-M4 프로세서 기준으로 설계하여 float와는 달리 별개의 라이브러리가 필요합니다.|
|`complex_t`|float형에 기반한 복소수를 의미합니다. 기본적으로 제공되는 complex 라이브러리를 사용하면 복소수를 다루실 수 있습니다.|
|`ref`|기본 포인터형입니다. 레퍼런스를 저장하며, 문자열 그 자체도 ref형으로 처리합니다.|
|`str`|255자 문자열형입니다. 최대 255바이트까지 저장할 수 있으며, 연산자를 사용할 수 있습니다.|


## 9. 버튼 사용하기(키보드) - 조건문 뒤쪽에 놓겠습니다.

### 9.1. 버튼 배치표

- 이번에는 버튼을 사용하는 방법을 알아보겠습니다. 우선, 아래와 같이 버튼이 배정되어 있습니다. Starlit은 임베디드용 프로그래밍 언어기 때문에 StarSVM 상에서 모든 키보드에 대해서 할당되는 것이 아닌 임베디드에 대해서 버튼이 할당되오니 유의해 주시기 바랍니다. 일반적으로 우측에 숫자 키가 따로 있다면, 그 숫자키를 적극적으로 이용하면 편합니다.

  |키보드|버튼 값|
  |------|-------|
  |숫자 1|BUTTON_1|
  |숫자 2|BUTTON_2|
  |숫자 3|BUTTON_3|
  |숫자 4|BUTTON_4|
  |숫자 5|BUTTON_5|
  |숫자 6|BUTTON_6|
  |숫자 7|BUTTON_7|
  |숫자 8|BUTTON_8|
  |숫자 9|BUTTON_9|
  |숫자 0|BUTTON_0|

### 9.2. 버튼 입력값에 따라 원하는 내용 출력하기

- 이번에는 버튼을 입력받으면 입력된 값에 따라 원하는 값을 출력해 보겠습니다.

```
$import(oled);
main(){
    OLED = OLED_Black();
    OLED << "/01번 또는 2번 입력" % a;
    while(!BUTTON_Read()){}
}
```


  
